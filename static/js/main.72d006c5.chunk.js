(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{108:function(e,t,n){e.exports={App:"app_App__3t73x",content:"app_content__1uD0k",col:"app_col__BbrOp",col_left:"app_col_left__2S36O app_col__BbrOp",col_right:"app_col_right__MCd6x app_col__BbrOp"}},110:function(e,t,n){e.exports={main:"modal-overlay_main__3eqaR"}},111:function(e,t,n){e.exports={nutrition:"nutrition_nutrition__2lHTg"}},112:function(e,t,n){e.exports={main:"burger-ingredients-tabs_main__xVrs6"}},114:function(e,t,n){e.exports={main:"burger-constructor-order_main__2PiDo"}},115:function(e,t,n){e.exports={basketItem:"draggable-burger-constructor-item_basketItem__3HbqG"}},116:function(e,t,n){e.exports={list:"order-feed_list__1P-pv",info:"order-feed_info__3i_Ik"}},117:function(e,t,n){e.exports={main:"order-feed-item-status_main__Gj2NK",success:"order-feed-item-status_success__1rMBI"}},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t),n.d(t,"API",(function(){return de}));var r,a,c=n(1),s=n.n(c),i=n(29),o=n(28),u=n.n(o),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},l=n(108),p=n.n(l),O=n(5),j=n(10),_=n(7),f=n(79),b=n.n(f),m=n(0);function E(e){var t=e.text,n=e.icon,r=e.to,c="".concat(b.a.item," p-5"),s=Object(j.j)({path:r,strict:!0,sensitive:!0}),i=null!=s&&s.isExact,o=i?a.active:a.default;return Object(m.jsxs)(_.c,{to:r,className:c,activeClassName:b.a.active,exact:!0,children:[x(n,o),Object(m.jsx)("span",{className:h(i),children:t})]})}function h(e){var t="text text_type_main-default ml-2 ";return e?t:t+"text_color_inactive"}function x(e,t){switch(e){case r.List:return Object(m.jsx)(O.ListIcon,{type:t});case r.Person:return Object(m.jsx)(O.ProfileIcon,{type:t});case r.Burger:default:return Object(m.jsx)(O.BurgerIcon,{type:t})}}!function(e){e[e.Burger=0]="Burger",e[e.List=1]="List",e[e.Person=2]="Person"}(r||(r={})),function(e){e.active="primary",e.default="secondary"}(a||(a={}));var v=n(30),R=n.n(v),S="/",g="/login",A="/register",N="/forgot-password",T="/reset-password",C="/profile",w="/order/:id",y="/ingredients/:id",I=function(e){return"/ingredients/".concat(e)},P=function(e){return"/order/".concat(e)},k="/profile/orders",L="/profile/orders/:id",U="/feed",D="/feed/:id";function G(){var e="".concat(R.a.header," mt-4 mb-4");return Object(m.jsx)("header",{children:Object(m.jsxs)("nav",{className:e,children:[Object(m.jsxs)("span",{className:R.a.left,children:[Object(m.jsx)(E,{text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",icon:r.Burger,to:S}),Object(m.jsx)(E,{text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",icon:r.List,to:U})]}),Object(m.jsx)("span",{className:R.a.center,children:Object(m.jsx)(_.b,{className:R.a.link,to:S,children:Object(m.jsx)(O.Logo,{})})}),Object(m.jsx)("span",{className:R.a.right,children:Object(m.jsx)(E,{text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",icon:r.Person,to:C})})]})})}var F=n(55),M=n.n(F),B=n(110),Q=n.n(B);function q(e){var t=e.onClick,n=Object(c.useCallback)((function(e){e.stopPropagation(),t()}),[t]);return Object(m.jsx)("div",{onClick:n,className:Q.a.main})}var H=n(2),W=n(3),z=n.n(W),K=n(6),X=n(48),Y=n(49);function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.expires){var r=new Date;r.setTime(r.getTime()+1e3*n.expires),n.expires=+r.toUTCString()}var a=e+"="+(t=encodeURIComponent(t));for(var c in n){a+="; "+c;var s=n[c];!0!==s&&(a+="="+s)}document.cookie=a}function V(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function J(e){var t=new Date(0).toUTCString();document.cookie="".concat(e,"=;expires=").concat(t)}var $="Bearer ",ee="token",te="tokenRefresh";function ne(e){Z(ee,e.replace($,""),{expires:12e5,Path:"/"})}function re(e){Z(te,e,{expires:31536e6,Path:"/"})}function ae(){var e=V(ee);return null!=e?$+e:e}function ce(){return V(te)}function se(){J(ee),J(te)}function ie(){var e,t=window,n=t.isLogAllowed;!0===n&&(e=console).log.apply(e,arguments)}function oe(e){return"invalid token"===e||"jwt expired"===e}window.isLogAllowed=!0;var ue,de=new(function(){function e(t){Object(X.a)(this,e),this.endpoints=t}return Object(Y.a)(e,[{key:"getBurgerParts",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.endpoints.ingredients).then((function(e){return t.checkResponse(e)})).then((function(e){return{ingredients:e.data}})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"order",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r,a,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={ingredients:t},e.prev=1,e.next=4,this.tryOrder(n);case 4:if((r=e.sent).success){e.next=25;break}if(ie("order responseBody not success",a=r.message),!oe(a)){e.next=24;break}return ie("order invalid token"),e.next=12,this.refreshToken();case 12:if(c=e.sent,!(s=c.accessToken)){e.next=21;break}return ie("order token refreshed ",s),e.next=18,this.tryOrder(n);case 18:r=e.sent,e.next=22;break;case 21:return e.abrupt("return",Promise.reject("can`t order token refreshed"));case 22:e.next=25;break;case 24:return e.abrupt("return",Promise.reject(a));case 25:return e.abrupt("return",r.order);case 28:return e.prev=28,e.t0=e.catch(1),console.warn(e.t0),e.abrupt("return",Promise.reject(e.t0));case 32:case"end":return e.stop()}}),e,this,[[1,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerUser",value:function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchPost(this.endpoints.registerUser,t).then((function(e){var t=e.accessToken,n=e.refreshToken;return ne(t.split(" ")[1]),re(n),e})).catch((function(e){return console.warn(e),Promise.reject(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restorePassword",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.endpoints.restorePassword,{method:"POST",headers:{"Content-type":"application/json",Authorization:null!==(n=ae())&&void 0!==n?n:""},body:JSON.stringify(t)}).then((function(e){return r.checkResponse(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchPost(this.endpoints.resetPassword,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchPost(this.endpoints.login,t).then((function(e){var t=e.accessToken,n=e.refreshToken;return ne(t.split(" ")[1]),re(n),e})).catch((function(e){return console.warn(e),Promise.reject(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:null!==(t=ce())&&void 0!==t?t:""},se(),e.abrupt("return",this.fetchPost(this.endpoints.logout,n));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshToken",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=ce())){e.next=3;break}return e.abrupt("return",Promise.reject("no refresh token"));case 3:return e.abrupt("return",this.fetchPost(this.endpoints.token,{token:t}).then((function(e){return ne(e.accessToken),re(e.refreshToken),e})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchProfile();case 3:if((t=e.sent).success){e.next=21;break}if(ie("responseBody not success",n=t.message),!oe(n)){e.next=20;break}return ie("invalid token"),e.next=11,this.refreshToken();case 11:if(r=e.sent,!(a=r.accessToken)){e.next=18;break}return ie("token refreshed ",a),e.next=17,this.fetchProfile();case 17:t=e.sent;case 18:e.next=21;break;case 20:return e.abrupt("return",Promise.reject(n));case 21:return e.abrupt("return",t);case 24:return e.prev=24,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",Promise.reject(e.t0));case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"patchProfile",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchPatchProfile(t);case 3:if((n=e.sent).success){e.next=21;break}if(ie("responseBody not success",r=n.message),!oe(r)){e.next=20;break}return ie("invalid token"),e.next=11,this.refreshToken();case 11:if(a=e.sent,!(c=a.accessToken)){e.next=18;break}return ie("token refreshed ",c),e.next=17,this.fetchPatchProfile(t);case 17:n=e.sent;case 18:e.next=21;break;case 20:return e.abrupt("return",Promise.reject(r));case 21:return e.abrupt("return",n);case 24:return e.prev=24,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",Promise.reject(e.t0));case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreAuth",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,e.prev=1,n=ce(),r=ae(),t=null!=n&&null!=r,ie("refreshToken ",n),ie("authToken ",r),!n||null!=r){e.next=12;break}return ie("try to refresh access token"),e.next=11,this.refreshToken();case 11:t=!0;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.warn(e.t0),se();case 18:return e.abrupt("return",{isAuthorized:t});case 19:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchProfile",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.endpoints.userData,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-type":"application/json",Authorization:null!==(t=ae())&&void 0!==t?t:""},redirect:"follow",referrerPolicy:"no-referrer"});case 3:return ie("fetchProfile apiResponse",n=e.sent),e.next=7,n.json();case 7:return ie("fetchProfile response body",r=e.sent),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"tryOrder",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.endpoints.order,{method:"POST",headers:{"Content-Type":"application/json",Authorization:null!==(n=ae())&&void 0!==n?n:""},body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersFeed",value:function(){var e=Object(K.a)(z.a.mark((function e(){var t,n,r,a,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=0,r=0,a=!1,e.prev=4,e.next=7,fetch(this.endpoints.orderFeed);case 7:return c=e.sent,e.next=10,c.json();case 10:(s=e.sent).success&&s.orders&&(s.orders.forEach((function(e){return t.push(e)})),n=s.totalToday,r=s.total,a=!0),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(4),console.warn(e.t0),e.abrupt("return",Promise.reject(e.t0));case 18:return e.abrupt("return",{success:a,orders:t,totalToday:n,total:r});case 19:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPatchProfile",value:function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.endpoints.userData,{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-type":"application/json",Authorization:null!==(n=ae())&&void 0!==n?n:""},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then((function(e){return ie("patchProfile ",e),e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPost",value:function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r,a=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:null!==(r=ae())&&void 0!==r?r:""},body:JSON.stringify(n)}).then((function(e){return a.checkResponse(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkResponse",value:function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",Promise.reject("apiResponse not ok"));case 2:return e.abrupt("return",t.json().then((function(e){return e.success?e:Promise.reject("apiResponse data is not success")})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}())({ingredients:"https://norma.nomoreparties.space/api/ingredients",order:"https://norma.nomoreparties.space/api/orders",login:"https://norma.nomoreparties.space/api/auth/login",logout:"https://norma.nomoreparties.space/api/auth/logout",token:"https://norma.nomoreparties.space/api/auth/token",registerUser:"https://norma.nomoreparties.space/api/auth/register",restorePassword:"https://norma.nomoreparties.space/api/password-reset",resetPassword:"https://norma.nomoreparties.space/api/password-reset/reset",userData:"https://norma.nomoreparties.space/api/auth/user",orderFeed:"https://norma.nomoreparties.space/api/orders/all"});!function(e){e.TAB_SELECT="TAB_SELECT",e.REGISTRATION_PAGE_CHANGE="REGISTRATION_PAGE_CHANGE",e.REGISTRATION_USER_REQUEST="REGISTRATION_USER_REQUEST",e.REGISTRATION_USER_SUCCESS="REGISTRATION_USER_SUCCESS",e.REGISTRATION_USER_FAIL="REGISTRATION_USER_FAIL",e.RESTORE_PAGE_CHANGE="RESTORE_PAGE_CHANGE",e.RESTORE_PASS_REQUEST="RESTORE_PASS_REQUEST",e.RESTORE_PASS_SUCCESS="RESTORE_PASS_SUCCESS",e.RESTORE_PASS_FAIL="RESTORE_PASS_FAIL",e.RESET_PAGE_CHANGE="RESET_PAGE_CHANGE",e.RESET_PASS_REQUEST="RESET_PASS_REQUEST",e.RESET_PASS_SUCCESS="RESET_PASS_SUCCESS",e.RESET_PASS_FAIL="RESET_PASS_FAIL",e.LOGIN_PAGE_CHANGE="LOGIN_PAGE_CHANGE",e.LOGIN_REQUEST="LOGIN_REQUEST",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAIL="LOGIN_FAIL",e.LOGOUT_REQUEST="LOGOUT_REQUEST",e.LOGOUT_SUCCESS="LOGOUT_SUCCESS",e.LOGOUT_FAIL="LOGOUT_FAIL",e.TOKEN_REFRESH_REQUEST="TOKEN_REFRESH_REQUEST",e.TOKEN_REFRESH_SUCCESS="TOKEN_REFRESH_SUCCESS",e.TOKEN_REFRESH_FAIL="TOKEN_REFRESH_FAIL",e.PROFILE_REQUEST="PROFILE_REQUEST",e.PROFILE_SUCCESS="PROFILE_SUCCESS",e.PROFILE_FAIL="PROFILE_FAIL",e.PROFILE_PAGE_CHANGE="PROFILE_PAGE_CHANGE",e.PROFILE_PAGE_RESET="PROFILE_PAGE_RESET",e.PROFILE_UPDATE_REQUEST="PROFILE_UPDATE_REQUEST",e.PROFILE_UPDATE_SUCCESS="PROFILE_UPDATE_SUCCESS",e.PROFILE_UPDATE_FAIL="PROFILE_UPDATE_FAIL",e.SAVE_AFTER_LOGGING_URL="SAVE_AFTER_LOGGING_URL",e.AUTH_CHECK_START="AUTH_CHECK_START",e.AUTH_CHECK_END="AUTH_CHECK_END",e.SET_MODAL_URL="SET_MODAL_URL"}(ue||(ue={}));var le,pe=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ue.SET_MODAL_URL,isModal:!1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ue.SET_MODAL_URL,isModal:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r,a,c,s,i,o,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().main,a=r.profileName,c=void 0===a?"":a,s=r.profileEmail,i=void 0===s?"":s,o=r.profilePassword,u={name:c,email:i,password:void 0===o?"":o},t({type:ue.PROFILE_UPDATE_REQUEST,data:u}),de.patchProfile(u).then((function(){t({type:ue.PROFILE_UPDATE_SUCCESS,data:u})})).catch((function(e){console.warn(e),t({type:ue.PROFILE_UPDATE_FAIL})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ue.PROFILE_REQUEST}),de.getProfile().then((function(e){t({type:ue.PROFILE_SUCCESS,data:Object(H.a)(Object(H.a)({},e.user),{},{password:""})})})).catch((function(){return t({type:ue.PROFILE_FAIL})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r,a,c,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().main,a=r.userResetCode,c=void 0===a?"":a,s=r.userResetPassword,i={password:void 0===s?"":s,token:c},t({type:ue.RESET_PASS_REQUEST}),de.resetPassword(i).then((function(){return t({type:ue.RESET_PASS_SUCCESS})})).catch((function(){return t({type:ue.RESET_PASS_FAIL})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ue.RESTORE_PASS_REQUEST,data:e}),de.restorePassword(e).then((function(){return n({type:ue.RESTORE_PASS_SUCCESS})})).catch((function(){return n({type:ue.RESTORE_PASS_FAIL})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},me=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ue.LOGOUT_REQUEST}),de.logout().then((function(e){return t({type:ue.LOGOUT_SUCCESS,data:e})})).catch((function(){return t({type:ue.LOGOUT_FAIL})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ee=function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ue.LOGIN_REQUEST,data:e}),de.login(e).then((function(t){n({type:ue.LOGIN_SUCCESS,data:t,password:e.password})})).catch((function(){return n({type:ue.LOGIN_FAIL})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ue.REGISTRATION_USER_REQUEST,data:e}),de.registerUser(e).then((function(t){return n({type:ue.REGISTRATION_USER_SUCCESS,data:t,password:e.password})})).catch((function(){return n({type:ue.REGISTRATION_USER_FAIL})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},xe=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.restoreAuth();case 2:n=e.sent,r=n.isAuthorized,t({type:ue.AUTH_CHECK_END,data:{isAuthorized:r}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.DATA_REQUEST="DATA_REQUEST",e.DATA_LOADED="DATA_LOADED",e.DATA_FAILED="DATA_FAILED"}(le||(le={}));var ve,Re=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:le.DATA_REQUEST}),e.prev=1,e.next=4,de.getBurgerParts();case 4:n=e.sent,ie("ingredients",r=n.ingredients),t({type:le.DATA_LOADED,ingredients:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:le.DATA_FAILED,message:e.t0.toString()});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()};function Se(e,t){return{createdAt:e.createdAt,id:e._id,name:e.name,number:e.number,status:e.status,ingredients:ge(e.ingredients,t)}}function ge(e,t){return function(e){return Array.from(new Set(e))}(function(e,t){return e.reduce((function(e,n){var r=function(e,t){return t.filter((function(t){return t._id===e}))[0]}(n,t);return r&&e.push(r),e}),[])}(e,t).sort((function(e){return"bun"===e.type?-1:1})))}!function(e){e.INGREDIENT_ADD_TO_BASKET="INGREDIENT_ADD_TO_BASKET",e.INGREDIENT_REMOVE_FROM_BASKET="INGREDIENT_REMOVE_FROM_BASKET",e.BASKET_ITEM_SWAP="BASKET_ITEM_SWAP",e.ORDER_RESET="ORDER_RESET",e.ORDER_REQUEST="ORDER_REQUEST",e.ORDER_SUCCESS="ORDER_SUCCESS",e.ORDER_FAILED="ORDER_FAILED",e.ORDER_MESSAGE_RESET="ORDER_MESSAGE_RESET",e.WS_ORDER_CONNECTION_SUCCESS="WS_ORDER_CONNECTION_SUCCESS",e.WS_ORDER_CONNECTION_START="WS_ORDER_CONNECTION_START",e.WS_ORDER_CONNECTION_ERROR="WS_ORDER_CONNECTION_ERROR",e.WS_ORDER_CONNECTION_CLOSED="WS_ORDER_CONNECTION_CLOSED",e.WS_ORDER_CONNECTION_CLOSE="WS_ORDER_CONNECTION_CLOSE",e.ORDERS_FEED_UPDATE="ORDERS_FEED_UPDATE",e.WS_ORDER_SEND_MESSAGE="WS_ORDER_SEND_MESSAGE",e.ORDERED_POPUP_SHOW="ORDERED_POPUP_SHOW"}(ve||(ve={}));var Ae=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ae())&&(t({type:ve.WS_ORDER_CONNECTION_START,token:n}),ie("initOrderFeedSocket",n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ve.WS_ORDER_CONNECTION_CLOSE});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:ve.ORDERED_POPUP_SHOW,order:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r,a,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.fetchOrdersFeed();case 3:r=e.sent,console.log("updateOrderFeedFromHttp",r),n().ingredients.ingredients,a=r.total,c=r.totalToday,s=r.orders,t({type:ve.ORDERS_FEED_UPDATE,message:{orders:s,total:a,totalToday:c}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},we=function(e){return function(t,n){var r=n().ingredients.ingredients.find((function(t){return t._id===e}));r&&t({type:ve.INGREDIENT_ADD_TO_BASKET,ingredient:r})}},ye=function(){return function(){var e=Object(K.a)(z.a.mark((function e(t,n){var r,a,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ve.ORDER_REQUEST}),r=n().orders,a=n().ingredients.ingredients,c=r.selectedBun,s=r.selectedParts.map((function(e){return e.ingredientId})),c&&(s.push(c.ingredientId),s.push(c.ingredientId)),de.order(s).then((function(e){t({type:ve.ORDER_SUCCESS,payload:Se(e,a)}),setTimeout((function(){t({type:ve.ORDER_MESSAGE_RESET})}),1500)})).catch((function(e){console.error(e),t({type:ve.ORDER_FAILED}),setTimeout((function(){t({type:ve.ORDER_MESSAGE_RESET})}),1500)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ie=function(e,t){return{type:ve.BASKET_ITEM_SWAP,selectedId1:e,selectedId2:t}},Pe=function(e){return{type:ve.INGREDIENT_REMOVE_FROM_BASKET,payload:e}},ke=function(){return Object(i.b)()},Le="keydown";function Ue(e){var t,n=e.title,r=void 0===n?"":n,a=e.children,s=Object(j.g)(),i=Object(j.h)().state,o=ke(),d=null!==(t=null===i||void 0===i?void 0:i.backTo)&&void 0!==t?t:S,l=Object(c.useCallback)((function(){o(pe()),s.replace({pathname:d,state:null})}),[o,s,d]),p=Object(c.useCallback)((function(e){"Escape"===e.key&&l()}),[l]),_=Object(c.useCallback)((function(e){e.stopPropagation()}),[]);Object(c.useEffect)((function(){var e=document.body;return e.addEventListener(Le,p),function(){e.removeEventListener(Le,p)}}),[p]);var f=document.getElementById("modal");return f&&u.a.createPortal(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(q,{onClick:l}),Object(m.jsx)("div",{className:M.a.window,onClick:_,children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"ml-10 mr-10 ".concat(M.a.head),children:[Object(m.jsx)("div",{className:"text text_type_main-large ".concat(M.a.title),children:r}),Object(m.jsx)(O.CloseIcon,{type:"primary",onClick:l})]}),a]})})]}),f)}var De=n(56),Ge=n.n(De),Fe=n(111),Me=n.n(Fe);function Be(e){var t=e.text,n=e.value;return Object(m.jsxs)("div",{className:Me.a.nutrition,children:[Object(m.jsx)("div",{className:"text text_type_main-default text_color_inactive",children:t}),Object(m.jsx)("div",{className:"text text_type_digits-default text_color_inactive",children:n})]})}var Qe=i.c;function qe(){return Qe((function(e){return Object(H.a)({},e.ingredients)}))}function He(){var e=Object(j.i)().id,t=qe().ingredients.find((function(t){return t._id===e}));if(null==t)return null;var n=t.image_large,r=t.name,a=t.carbohydrates,c=t.fat,s=t.calories,i=t.proteins;return Object(m.jsxs)("div",{className:"mb-15 ".concat(Ge.a.content),children:[Object(m.jsx)("div",{className:"mb-4 ".concat(Ge.a.image_wrapper),children:Object(m.jsx)("img",{src:n,alt:r})}),Object(m.jsx)("span",{className:"mb-8 text text_type_main-medium",children:r}),Object(m.jsxs)("div",{className:Ge.a.nutrition,children:[Object(m.jsx)(Be,{text:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u0433",value:s}),Object(m.jsx)(Be,{text:"\u0411\u0435\u043b\u043a\u0438, \u0433",value:i}),Object(m.jsx)(Be,{text:"\u0416\u0438\u0440\u044b, \u0433",value:c}),Object(m.jsx)(Be,{text:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433",value:a})]})]})}var We=n(81),ze=n.n(We),Ke={images:{orderDone:n.p+"static/media/done.e036971b.png",partAvatar:n.p+"static/media/circle64.a1c802d6.svg",partsMore:"data:image/png;base64,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"}};function Xe(e){return"".concat(e).padStart(6,"0")}function Ye(){return Qe((function(e){return Object(H.a)({},e.orders)}))}function Ze(){return Qe((function(e){return Object(H.a)({},e.main)}))}var Ve=Ke.images.orderDone;function Je(){var e=Ye().showedOrders,t=Object(j.i)().id,n=void 0===t?"-1":t,r=Object(c.useMemo)((function(){return e.find((function(e){return e.id===n}))}),[e,n]);return null==r?null:(console.log("OrderDetails",r),Object(m.jsxs)("div",{className:ze.a.content,children:[Object(m.jsx)("span",{className:"text text_type_digits-large mb-8",children:Xe(r.number)}),Object(m.jsx)("span",{className:"text text_type_main-medium mb-15",children:r.name}),Object(m.jsx)("img",{src:Ve,className:"mb-15 ".concat(ze.a.done),alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0413\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438"}),Object(m.jsx)("span",{className:"text text_type_main-default  mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(m.jsx)("span",{className:"text text_type_main-small text_color_inactive mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438  \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}))}var $e=n(54);function et(e){var t=e.children,n=Object($e.a)(e,["children"]),r=Ze().isAuthorized,a=Object(j.h)(),s=ke();return Object(c.useEffect)((function(){r||s({type:ue.SAVE_AFTER_LOGGING_URL,url:a.pathname})}),[r,s,a.pathname]),Object(m.jsx)(j.b,Object(H.a)(Object(H.a)({},n),{},{render:function(){return r?t:Object(m.jsx)(j.a,{to:g})}}))}var tt=n(40),nt=n.n(tt);function rt(){var e=Ze(),t=e.userRestoreEmail,n=void 0===t?"":t,r=e.isRestoreSuccess,a=ke(),s=Object(j.g)(),i=Object(c.useCallback)((function(e){e.persist(),a({type:ue.RESTORE_PAGE_CHANGE,email:e.target.value})}),[a]),o=Object(c.useCallback)((function(e){e.preventDefault(),a(be({email:n}))}),[a,n]);return Object(c.useEffect)((function(){r&&s.replace({pathname:T,state:{}})}),[s,r]),Object(m.jsx)("div",{className:nt.a.wrap,children:Object(m.jsxs)("form",{className:nt.a.content,onSubmit:o,children:[Object(m.jsx)("div",{className:"text text_type_main-medium ".concat(nt.a.label),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsx)(O.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 email",value:n,onChange:i}),Object(m.jsx)(O.Button,{size:"medium",type:"primary",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(m.jsx)("div",{className:"text text_type_main-small ".concat(nt.a.about),children:Object(m.jsxs)("div",{children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(m.jsx)(_.b,{to:g,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})}var at=n(41),ct=n.n(at);function st(){var e=ke(),t=Ze(),n=t.loginPageEmail,r=void 0===n?"":n,a=t.loginPagePassword,s=void 0===a?"":a,i=t.isAuthorized,o=t.urlAfterLogging,u=void 0===o?S:o,d=Object(c.useCallback)((function(t){t.persist(),e({type:ue.LOGIN_PAGE_CHANGE,data:{password:s,email:t.target.value}})}),[e,s]),l=Object(c.useCallback)((function(t){t.persist(),e({type:ue.LOGIN_PAGE_CHANGE,data:{email:r,password:t.target.value}})}),[e,r]),p=Object(c.useCallback)((function(t){t.preventDefault(),e(Ee({email:r,password:s}))}),[e,r,s]);return Object(m.jsx)("div",{className:ct.a.wrap,children:i?Object(m.jsx)(j.a,{to:u}):Object(m.jsxs)("form",{className:ct.a.content,onSubmit:p,children:[Object(m.jsx)("div",{className:"text text_type_main-medium ".concat(ct.a.label),children:"\u0412\u0445\u043e\u0434"}),Object(m.jsx)(O.Input,{type:"email",placeholder:"Email",value:r,onChange:d}),Object(m.jsx)(O.PasswordInput,{name:"password",value:s,onChange:l}),Object(m.jsx)(O.Button,{size:"medium",type:"primary",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(m.jsxs)("div",{className:"text text_type_main-small ".concat(ct.a.about),children:[Object(m.jsxs)("div",{children:["\u0412\u044b \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? ",Object(m.jsx)(_.b,{to:A,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(m.jsxs)("div",{children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(m.jsx)(_.b,{to:N,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})}var it=n(57),ot=n.n(it),ut=n(119),dt=n(82),lt=n.n(dt),pt=n(112),Ot=n.n(pt);function jt(){var e=ke(),t=Ze(),n=t.currentTabIndex,r=t.tabs,a=function(t){e({type:ue.TAB_SELECT,index:parseInt(t)})};return Object(m.jsx)("div",{className:"mt-5 ".concat(Ot.a.main),children:r.map((function(e,t){var r=e.name;return Object(m.jsx)(O.Tab,{value:t.toString(),active:n===t,onClick:a,children:r},t)}))})}var _t=n(83),ft=n.n(_t),bt=n(24),mt=n(213),Et=n(58),ht=n.n(Et),xt=n(59),vt=n.n(xt);function Rt(e){var t=e.sum,n=e.big,r=void 0!==n&&n,a=r?"text_type_digits-medium":"text_type_digits-default",c=(r?vt.a.big_icon:"")+" "+vt.a.icon;return Object(m.jsxs)("div",{className:"text ".concat(a," ").concat(vt.a.main),children:[Object(m.jsx)("div",{className:"mr-2",children:t}),Object(m.jsx)("div",{className:c,children:Object(m.jsx)(O.CurrencyIcon,{type:"primary"})})]})}function St(e){var t,n=e.part,r=ke(),a=Object(mt.a)({type:"item",item:{id:n._id}},[n]),s=Object(bt.a)(a,2),i=(s[0],s[1]),o=Ye().ingredientAmountMap,u=n.price,d=n.name,l=n.image,p=null!==(t=o[n._id])&&void 0!==t?t:0,_=Object(j.g)(),f=Object(c.useCallback)((function(e){r(Oe()),_.replace({pathname:I(e._id)})}),[_,r]),b=p>0?Object(m.jsx)(O.Counter,{count:p,size:"default"}):null;return Object(m.jsxs)("div",{"data-cy":"burger-part",className:ht.a.item,onClick:function(){return f(n)},ref:i,children:[Object(m.jsx)("img",{src:l,alt:d,className:ht.a.image}),Object(m.jsx)(Rt,{sum:u}),Object(m.jsx)("div",{className:"text text_type_main-default ".concat(ht.a.name),children:d}),b]})}function gt(e){var t=e.title,n=e.parts;return Object(m.jsxs)("section",{className:"".concat(ft.a.section," mt-10"),children:[Object(m.jsx)("span",{className:"text text_type_main-medium",children:t}),Object(m.jsx)("div",{className:"mt-6 pl-4 ".concat(ft.a.list),children:n.map((function(e){return Object(m.jsx)(St,{part:e},e._id)}))})]})}function At(){var e=qe().ingredients,t=ke(),n=Object(c.useRef)(null),r=Object(c.useRef)(null),a=Object(c.useRef)(null),s=Object(c.useRef)(null),i=Object(c.useCallback)((function(e){var n=e.currentTarget,c=r.current,i=a.current,o=s.current;if(n&&c&&i&&o){for(var u=n.scrollTop,d=[Math.abs(c.offsetTop-u)-.6*c.clientHeight,Math.abs(i.offsetTop-u)-.6*i.clientHeight,Math.abs(o.offsetTop-u)-.6*o.clientHeight],l=0,p=d[0],O=1;O<d.length;O++){var j=d[O];j<p&&(p=j,l=O)}t({type:ue.TAB_SELECT,index:l})}}),[r,a,s,t]);Object(c.useEffect)((function(){var e=n.current;return null===e||void 0===e||e.addEventListener("scroll",i),function(){null===e||void 0===e||e.removeEventListener("scroll",i)}}),[n,i]);var o=[],u=[],d=[];return e.forEach((function(e){switch(e.type){case"bun":o.push(e);break;case"main":u.push(e);break;case"sauce":d.push(e)}})),Object(m.jsxs)("div",{className:"".concat(lt.a.main),children:[Object(m.jsx)(jt,{}),Object(m.jsxs)("div",{className:"mb-10 ".concat(lt.a.list),ref:n,children:[Object(m.jsx)("div",{ref:r,children:Object(m.jsx)(gt,{title:"\u0411\u0443\u043b\u043a\u0438",parts:o})}),Object(m.jsx)("div",{ref:a,children:Object(m.jsx)(gt,{title:"\u0421\u043e\u0443\u0441\u044b",parts:d})}),Object(m.jsx)("div",{ref:s,children:Object(m.jsx)(gt,{title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",parts:u})})]})]})}var Nt,Tt=n(212),Ct=n(60),wt=n.n(Ct),yt=n(114),It=n.n(yt);function Pt(){var e=ke(),t=Ze().isAuthorized,n=Ye().sum,r=Object(j.g)(),a=Object(c.useCallback)((function(){t?e(ye()):(e({type:ue.SAVE_AFTER_LOGGING_URL,url:S}),r.replace({pathname:g}))}),[e,t,r]);return Object(m.jsxs)("div",{className:"mr-4 ".concat(It.a.main),children:[Object(m.jsx)("div",{className:"mr-10",children:Object(m.jsx)(Rt,{sum:n,big:!0})}),Object(m.jsx)(O.Button,{type:"primary",size:"large",onClick:a,children:t?"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c"})]})}!function(e){e.TOP="top",e.BOTTOM="bottom"}(Nt||(Nt={}));var kt=n(214),Lt=n(115),Ut=n.n(Lt),Dt="BASKET_DRAGGABLE_TYPE";function Gt(e){var t=e.selectedId,n=e.ingredientId,r=ke(),a=Object(c.useRef)(null),s=Object(mt.a)({type:Dt,item:function(){return{selectedId:t}},collect:function(e){return{isDragging:e.isDragging()}}},[t]),i=Object(bt.a)(s,2),o=i[0].isDragging,u=i[1],d=Object(kt.a)({accept:Dt,collect:function(e){return{isHover:e.isOver()}},hover:function(e){var n=e.selectedId;n!==t&&r(Ie(n,t))}},[t,r]),l=Object(bt.a)(d,2);l[0];u((0,l[1])(a));var p=o?0:1;return Object(m.jsx)("div",{className:Ut.a.basketItem,ref:a,style:{opacity:p},"data-cy":"burger-basket-order-item",children:Object(m.jsx)(O.ConstructorElement,Object(H.a)(Object(H.a)({},e),{},{handleClose:function(){return r(Pe({selectedId:t,ingredientId:n}))}}))})}var Ft=n(61),Mt=n.n(Ft);function Bt(e){var t=e.text,n=void 0===t?"Loading...":t,r=e.alert,a=Object(c.useMemo)((function(){return r?Mt.a.alert:""}),[r]);return Object(m.jsx)("div",{className:Mt.a.wrap,children:Object(m.jsx)("div",{className:"text text_color_inactive text_type_main-medium ".concat(Mt.a.content," ").concat(a),children:n})})}function Qt(e,t,n){return Object(H.a)(Object(H.a)({},e),{},{text:"".concat(e.text," (").concat(t,")"),type:n,isLocked:!0})}function qt(){var e=ke(),t=Ye(),n=t.selectedBun,r=t.selectedParts,a=t.sum,s=Object(c.useMemo)((function(){return null==n&&(null===r||void 0===r?void 0:r.length)<1}),[n,r]),i=Object(kt.a)({accept:"item",drop:function(t){var n=t.id;e(we(n))}},[e]),o=Object(bt.a)(i,2),u=(o[0],o[1]);return Object(m.jsxs)("section",{className:"mt-4 mb-4 ".concat(wt.a.main),ref:u,"data-cy":"burger-basket",children:[s?Object(m.jsx)(Bt,{text:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u0431\u0443\u0440\u0433\u0435\u0440, \u0431\u0440\u043e\u0441\u044c\u0442\u0435 \u0441\u044e\u0434\u0430 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0438\u0437 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430 \u0441\u043b\u0435\u0432\u0430!"}):n&&Object(m.jsx)(O.ConstructorElement,Object(H.a)({},Qt(n,"\u0432\u0435\u0440\u0445",Nt.TOP))),Object(m.jsx)("div",{className:"mt-4 mb-4 ".concat(wt.a.list),children:r.map((function(e){return Object(m.jsx)(Gt,Object(H.a)({},e),e.selectedId)}))}),n&&Object(m.jsx)(O.ConstructorElement,Object(H.a)({},Qt(n,"\u043d\u0438\u0437",Nt.BOTTOM))),a>0&&n&&Object(m.jsx)("div",{className:"mt-10 mb-10 ".concat(wt.a.sum),"data-cy":"burger-basket-order-button",children:Object(m.jsx)(Pt,{})})]})}function Ht(){var e=Ye(),t=e.orderMessage,n=e.isBadOrderMessage;return Object(m.jsxs)(m.Fragment,{children:[" ",t?Object(m.jsx)(Bt,{text:t,alert:n}):Object(m.jsx)(qt,{})]})}function Wt(){return Object(m.jsx)(Tt.a,{backend:ut.a,children:Object(m.jsxs)("main",{className:ot.a.content,children:[Object(m.jsxs)("div",{className:ot.a.col_left,children:[Object(m.jsx)("span",{className:"text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(m.jsx)(At,{})]}),Object(m.jsx)("div",{className:ot.a.col_right,children:Object(m.jsx)(Ht,{})})]})})}function zt(){return Object(m.jsx)("div",{className:"p-2 text text_color_accent",children:"Page 404"})}var Kt=n(22),Xt=n.n(Kt),Yt=n(31),Zt=n.n(Yt);function Vt(){var e=Ze(),t=e.isProfileSuccess,n=void 0!==t&&t,r=e.userEmail,a=void 0===r?"":r,s=e.userName,i=void 0===s?"":s,o=e.userPassword,u=void 0===o?"":o,d=e.profileName,l=void 0===d?i:d,p=e.profileEmail,j=void 0===p?a:p,_=e.profilePassword,f=void 0===_?u:_,b=Object(c.useMemo)((function(){return a!==j||i!==l||f!==u}),[i,a,l,j,f,u]),E=ke(),h=Object(c.useCallback)((function(e){e.persist(),E({type:ue.PROFILE_PAGE_CHANGE,data:{name:e.target.value,email:j,password:f}})}),[E,j,f]),x=Object(c.useCallback)((function(e){e.persist(),E({type:ue.PROFILE_PAGE_CHANGE,data:{name:l,email:e.target.value,password:f}})}),[E,l,f]),v=Object(c.useCallback)((function(e){e.persist(),E({type:ue.PROFILE_PAGE_CHANGE,data:{name:l,email:j,password:e.target.value}})}),[E,l,j]),R=Object(c.useCallback)((function(e){e.preventDefault(),E(je())}),[E]),S=Object(c.useCallback)((function(){E({type:ue.PROFILE_PAGE_RESET})}),[E]),g=Object(c.useMemo)((function(){return b?Zt.a.buttons:"".concat(Zt.a.buttons," ").concat(Zt.a.hidden)}),[b]);return Object(c.useEffect)((function(){n||E(_e())}),[n,E]),Object(m.jsx)(m.Fragment,{children:n?Object(m.jsxs)("form",{className:Zt.a.main,onSubmit:R,children:[Object(m.jsx)(O.Input,{placeholder:"\u0418\u043c\u044f",value:l,onChange:h}),Object(m.jsx)(O.Input,{placeholder:"\u041b\u043e\u0433\u0438\u043d",value:j,onChange:x}),Object(m.jsx)(O.PasswordInput,{name:"password",value:f,onChange:v}),Object(m.jsxs)("div",{className:g,children:[Object(m.jsx)("span",{onClick:S,className:"text text_type_main-small ".concat(Zt.a.link),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(m.jsx)(O.Button,{size:"medium",type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}):Object(m.jsx)(Bt,{})})}var Jt=n(116),$t=n.n(Jt),en=n(62),tn=n.n(en),nn=n(117),rn={done:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"},an={done:"text text_type_main-default ".concat(n.n(nn).a.success)};function cn(e){var t=e.status,n=Object(c.useMemo)((function(){return function(e){var t;return null!==(t=rn[e])&&void 0!==t?t:e}(t)}),[t]),r=Object(c.useMemo)((function(){return function(e){var t;return null!==(t=an[e])&&void 0!==t?t:"text text_type_main-default"}(t)}),[t]);return Object(m.jsx)("div",{className:r,children:n})}var sn=n(19),on=n(86),un=n.n(on),dn=n(32),ln=n.n(dn);function pn(e){var t=e.imageUrl,n=e.zIndex,r=e.text,a=e.overlap,s=Object(c.useMemo)((function(){return!0===a?"".concat(ln.a.circle," ").concat(ln.a.overlap):"".concat(ln.a.circle)}),[a]);return Object(m.jsxs)("div",{className:s,style:{zIndex:n,backgroundImage:"url(".concat(Ke.images.partAvatar,")")},children:[Object(m.jsx)("img",{className:ln.a.img,src:t}),r&&Object(m.jsx)("div",{className:"text text_type_main-default ".concat(ln.a.text),children:r})]})}function On(e){var t=e.ingredients,n=e.maxLength,r=Object(c.useMemo)((function(){var e=t.length-n,r=e>0,a=n+1,c=Object(sn.a)(t.slice(0,n).map((function(e){return{imageUrl:e.image_mobile,zIndex:a--}})));return r&&c.push({imageUrl:Ke.images.partsMore,text:"+".concat(e),zIndex:a--}),c}),[t,n]);return Object(m.jsx)("div",{className:un.a.main,children:Object(m.jsx)("div",{className:un.a.row,children:r.map((function(e,t){return Object(m.jsx)(pn,Object(H.a)({overlap:!0},e),t)}))})})}var jn=new Date,_n="".concat(jn.getMonth()+1," ").concat(jn.getDate()," ").concat(jn.getFullYear()," 23:59:59"),fn=new Date(_n);function bn(e){var t=e.data,n=Object(c.useMemo)((function(){return function(e){var t=e;try{var n=new Date(e),r=(fn.getTime()-n.getTime())/864e5,a=n.toLocaleDateString("ru",{dateStyle:"medium"});r<1&&(a="\u0421\u0435\u0433\u043e\u0434\u043d\u044f"),r>1&&r<2&&(a="\u0412\u0447\u0435\u0440\u0430"),r>2&&r<3&&(a="\u0414\u0432\u0430 \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434");var c=n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=Math.floor(n.getTimezoneOffset()/60),i=0!==s?"i-GMT".concat(s>0?"-":"+").concat(Math.abs(s)):"";t="".concat(a,", ").concat(c," ").concat(i)}catch(o){console.warn(o)}return t}(t)}),[t]);return Object(m.jsx)("div",{className:"text text_type_main-default text_color_inactive",children:n})}function mn(e){var t=e.id,n=e.name,r=e.withStatus,a=e.number,s=e.ingredients,i=e.status,o=e.createdAt,u=Object(j.g)(),d=Object(j.j)().url,l=Object(c.useMemo)((function(){return"".concat(d,"/").concat(t)}),[d,t]);return Object(m.jsxs)("div",{className:tn.a.main,onClick:function(){return u.push(l)},children:[Object(m.jsxs)("div",{className:tn.a.row,children:[Object(m.jsxs)("div",{className:"text text_type_digits-default",children:["#",Xe(a)]}),Object(m.jsx)(bn,{data:o})]}),Object(m.jsxs)("div",{className:tn.a.rowName,children:[Object(m.jsx)("div",{className:"text text_type_main-medium",children:n}),r&&Object(m.jsx)(cn,{status:i})]}),Object(m.jsx)(On,{ingredients:s,maxLength:5})]})}function En(){var e=Ze().isAuthorized,t=ke();Object(c.useEffect)((function(){return t(e?Ae():Ce()),function(){t(Ne())}}),[t,e])}function hn(e){var t=e.withStatus;En();var n=Ye().orderFeed,r=Object(c.useMemo)((function(){return n.length>0}),[n]);return Object(m.jsx)(m.Fragment,{children:r?Object(m.jsx)("div",{className:$t.a.list,children:n.map((function(e){return Object(m.jsx)(mn,Object(H.a)({withStatus:t},e),e.id)}))}):Object(m.jsx)("div",{className:"text text_type_main-small text_color_inactive",children:"\u0412\u044b \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u043b\u0438"})})}function xn(){var e=ke(),t=Object(c.useCallback)((function(){e(me())}),[e]);return Object(m.jsxs)("div",{className:Xt.a.content,children:[Object(m.jsxs)("div",{className:Xt.a.col_left,children:[Object(m.jsxs)("div",{className:"text text_type_main-medium mt-30 ".concat(Xt.a.links),children:[Object(m.jsx)(_.c,{to:C,exact:!0,className:"text_color_inactive",activeClassName:Xt.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(m.jsx)(_.c,{to:k,exact:!0,className:"text_color_inactive",activeClassName:Xt.a.active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(m.jsx)("span",{onClick:t,className:"text_color_inactive ".concat(Xt.a.link),children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(m.jsxs)("div",{className:"text text_type_main-small text_color_inactive mt-20",children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435",Object(m.jsx)("br",{}),"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]}),Object(m.jsx)("div",{className:Xt.a.col_right,children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:C,exact:!0,children:Object(m.jsx)(Vt,{})}),Object(m.jsx)(j.b,{path:k,exact:!0,children:Object(m.jsx)(hn,{withStatus:!0})})]})})]})}var vn=n(42),Rn=n.n(vn);function Sn(){var e=ke(),t=Ze(),n=t.userRegisterEmail,r=void 0===n?"":n,a=t.userRegisterName,s=void 0===a?"":a,i=t.userRegisterPassword,o=void 0===i?"":i,u=t.isAuthorized,d=t.urlAfterLogging,l=void 0===d?S:d,p=Object(c.useCallback)((function(t){t.persist(),e({type:ue.REGISTRATION_PAGE_CHANGE,data:{email:r,password:o,name:t.target.value}})}),[e,r,o]),f=Object(c.useCallback)((function(t){t.persist(),e({type:ue.REGISTRATION_PAGE_CHANGE,data:{password:o,name:s,email:t.target.value}})}),[e,o,s]),b=Object(c.useCallback)((function(t){t.persist(),e({type:ue.REGISTRATION_PAGE_CHANGE,data:{email:r,name:s,password:t.target.value}})}),[e,r,s]),E=Object(c.useCallback)((function(t){t.preventDefault(),e(he({email:r,name:s,password:o}))}),[r,s,o,e]);return Object(m.jsx)("div",{className:Rn.a.wrap,children:u?Object(m.jsx)(j.a,{to:l}):Object(m.jsxs)("form",{className:Rn.a.content,onSubmit:E,children:[Object(m.jsx)("div",{className:"text text_type_main-medium ".concat(Rn.a.label),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(O.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:s,onChange:p,size:"default"}),Object(m.jsx)(O.Input,{type:"email",placeholder:"Email",value:r,onChange:f}),Object(m.jsx)(O.PasswordInput,{name:"password",value:o,onChange:b}),Object(m.jsx)(O.Button,{size:"medium",type:"primary",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(m.jsx)("div",{className:"text text_type_main-small ".concat(Rn.a.about),children:Object(m.jsxs)("div",{children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(m.jsx)(_.b,{to:g,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})}var gn=n(43),An=n.n(gn);function Nn(){var e=Object(j.g)(),t=ke(),n=Ze(),r=n.userResetPassword,a=void 0===r?"":r,s=n.userResetCode,i=void 0===s?"":s,o=n.isRestoreSuccess;Object(c.useEffect)((function(){o||e.replace({pathname:S})}),[e,o]);var u=Object(c.useCallback)((function(e){e.persist(),t({type:ue.RESET_PAGE_CHANGE,code:i,password:e.target.value})}),[i,t]),d=Object(c.useCallback)((function(e){t({type:ue.RESET_PAGE_CHANGE,code:e.target.value,password:a})}),[t,a]),l=Object(c.useCallback)((function(e){e.preventDefault(),t(fe())}),[t]);return Object(m.jsx)("div",{className:An.a.wrap,children:Object(m.jsxs)("form",{className:An.a.content,onSubmit:l,children:[Object(m.jsx)("div",{className:"text text_type_main-medium ".concat(An.a.label),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsx)(O.PasswordInput,{name:"password",value:a,onChange:u}),Object(m.jsx)(O.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:i,onChange:d}),Object(m.jsx)(O.Button,{size:"medium",type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(m.jsx)("div",{className:"text text_type_main-small ".concat(An.a.about),children:Object(m.jsxs)("div",{children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(m.jsx)(_.b,{to:g,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})}var Tn,Cn=n(44),wn=n.n(Cn),yn=n(63),In=n.n(yn);!function(e){e.CREATED="created",e.PENDING="pending",e.DONE="done"}(Tn||(Tn={}));var Pn={columnTitle:"text text_type_main-medium mb-6",done:"text text_type_digits-default "+In.a.success,processing:"text text_type_digits-default ",totalTitle:"text text_type_main-medium ",totalAmount:"text text_type_digits-large "};function kn(){var e=Ye(),t=e.orderFeed,n=e.orderTotal,r=e.orderToday,a=Object(c.useMemo)((function(){return function(e){var t=[],n=[],r=[],a=[];return e.forEach((function(e){switch(e.status){case Tn.CREATED:n.push(e);break;case Tn.PENDING:r.push(e);break;case Tn.DONE:a.push(e);break;default:t.push(e)}})),{unknown:t,created:n,pending:r,done:a}}(t)}),[t]),s=Object(c.useMemo)((function(){return a.done.slice(0,6)}),[a.done]),i=Object(c.useMemo)((function(){return[].concat(Object(sn.a)(a.created),Object(sn.a)(a.pending)).slice(0,6)}),[a.created,a.pending]);return Object(m.jsxs)("div",{className:In.a.main,children:[Object(m.jsxs)("div",{className:In.a.columns,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:Pn.columnTitle,children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(m.jsx)("div",{className:Pn.done,children:s.map((function(e){return Object(m.jsx)("div",{children:Xe(e.number)},e.id)}))})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:Pn.columnTitle,children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(m.jsx)("div",{className:Pn.processing,children:i.map((function(e){return Object(m.jsx)("div",{children:Xe(e.number)})}))})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:Pn.totalTitle,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(m.jsx)("div",{className:Pn.totalAmount,children:n})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:Pn.totalTitle,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f::"}),Object(m.jsx)("div",{className:Pn.totalAmount,children:r})]})]})}function Ln(){return Object(m.jsxs)("div",{className:wn.a.main,children:[Object(m.jsx)("div",{className:"text text_type_main-large mt-10 mb-4",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(m.jsxs)("div",{className:wn.a.columns,children:[Object(m.jsx)("div",{className:wn.a.colLeft,children:Object(m.jsx)(hn,{})}),Object(m.jsx)("div",{className:wn.a.colRight,children:Object(m.jsx)(kn,{})})]})]})}var Un=n(45),Dn=n.n(Un);var Gn=n(25),Fn=n.n(Gn);function Mn(e){var t=e.ingredients,n=Object(c.useMemo)((function(){return function(e){var t={};return e.forEach((function(e){var n=e._id;t[n]?t[n].amount++:t[n]=Object(H.a)(Object(H.a)({},e),{},{amount:1}),"bun"===e.type&&(t[n]=Object(H.a)(Object(H.a)({},e),{},{amount:2}))})),Object.values(t)}(t)}),[t]),r=Object(c.useMemo)((function(){return t.length<=3?Fn.a.main:"".concat(Fn.a.main," ").concat(Fn.a.scrollable)}),[t.length]);return Object(m.jsx)("div",{className:r,children:n.map((function(e){return Object(m.jsxs)("div",{className:Fn.a.row,children:[Object(m.jsxs)("div",{className:Fn.a.rowPart,children:[Object(m.jsx)(pn,{imageUrl:e.image_mobile,zIndex:1}),Object(m.jsx)("div",{className:"ml-4 text text_type_main-default",children:e.name})]}),Object(m.jsxs)("div",{className:Fn.a.rowPart,children:[Object(m.jsxs)("div",{className:"text text_type_digits-default mr-2",children:[e.amount," x ",e.price]}),Object(m.jsx)(O.CurrencyIcon,{type:"primary"})]})]},e._id)}))})}function Bn(){En();var e=Object(j.i)().id,t=Ye().orderFeed,n=Object(c.useMemo)((function(){return t.find((function(t){return t.id===e}))}),[t,e]);return null==n?Object(m.jsxs)("div",{children:["\u0421\u043e\u0436\u0430\u043b\u0435\u044e, \u0437\u0430\u043a\u0430\u0437 \u0441 id '#",e,"' \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"]}):Object(m.jsx)("div",{className:Dn.a.main,children:Object(m.jsxs)("div",{className:Dn.a.content,children:[Object(m.jsxs)("span",{className:"text text_type_digits-default ".concat(Dn.a.center),children:["#",Xe(n.number)]}),Object(m.jsxs)("div",{className:"mt-10",children:[Object(m.jsx)("div",{className:"text text_type_main-medium",children:n.name}),Object(m.jsx)("div",{className:"mt-1",children:Object(m.jsx)(cn,{status:n.status})})]}),Object(m.jsx)("div",{className:"mt-15 mb-6 text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(m.jsx)(Mn,{ingredients:n.ingredients}),Object(m.jsxs)("div",{className:Dn.a.row,children:[Object(m.jsx)(bn,{data:n.createdAt}),Object(m.jsx)("div",{children:Object(m.jsx)(Rt,{sum:n.ingredients.reduce((function(e,t){return e+t.price}),0)})})]})]})})}function Qn(e){var t=e.children,n=Object($e.a)(e,["children"]),r=Ze(),a=r.isAuthorized,c=r.urlAfterLogging;return Object(m.jsx)(j.b,Object(H.a)(Object(H.a)({},n),{},{render:function(){return a?Object(m.jsx)(j.a,{to:c||S}):t}}))}var qn=function(){var e=Ze(),t=e.isRestoreRequest,n=e.isResetRequest,r=e.isRegisterRequest,a=e.isLoginRequest,s=e.isModalUrl,i=(e.isAuthorized,e.isAuthorizationChecking),o=Ye().showCreatedOrder,u=qe().isIngredientsRequest,d=Object(j.g)(),l=Object(j.h)(),O=Object(c.useMemo)((function(){return u||t||n||r||a||i}),[i,u,n,t,r,a]),_=ke();return Object(c.useEffect)((function(){_(xe()),_(Re())}),[_]),Object(c.useEffect)((function(){if(o)return _(Oe()),_(Te(o)),void d.replace({pathname:P(o.id)})}),[_,d,o]),Object(m.jsxs)("div",{className:p.a.App,children:[Object(m.jsx)(G,{}),O?Object(m.jsx)(Bt,{}):Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:s?l.pathname:S,exact:!0,children:Object(m.jsx)(Wt,{})}),Object(m.jsx)(Qn,{path:g,exact:!0,children:Object(m.jsx)(st,{})}),Object(m.jsx)(Qn,{path:A,exact:!0,children:Object(m.jsx)(Sn,{})}),Object(m.jsx)(Qn,{path:N,exact:!0,children:Object(m.jsx)(rt,{})}),Object(m.jsx)(j.b,{path:T,exact:!0,children:Object(m.jsx)(Nn,{})}),Object(m.jsx)(j.b,{path:U,exact:!0,children:Object(m.jsx)(Ln,{})}),Object(m.jsx)(j.b,{path:D,exact:!0,children:Object(m.jsx)(Bn,{})}),Object(m.jsx)(et,{path:L,exact:!0,children:Object(m.jsx)(Bn,{})}),Object(m.jsx)(et,{path:C,children:Object(m.jsx)(xn,{})}),Object(m.jsx)(j.b,{path:y,exact:!0,children:Object(m.jsx)(He,{})}),Object(m.jsx)(j.b,{path:w,exact:!0,children:Object(m.jsx)(Je,{})}),Object(m.jsx)(j.b,{children:Object(m.jsx)(zt,{})})]}),s&&Object(m.jsx)(j.b,{path:y,exact:!0,children:Object(m.jsx)(Ue,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(m.jsx)(He,{})})}),s&&Object(m.jsx)(j.b,{path:w,exact:!0,children:Object(m.jsx)(Ue,{children:Object(m.jsx)(Je,{})})})]})},Hn=(n(206),n(21)),Wn=n(118),zn={currentTabIndex:0,tabs:[{name:"\u0411\u0443\u043b\u043a\u0438"},{name:"\u0421\u043e\u0443\u0441\u044b"},{name:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}]};function Kn(e,t){return Object(H.a)(Object(H.a)({},t),{},{userRegisterEmail:e.data.email,userRegisterName:e.data.name,userRegisterPassword:e.data.password})}function Xn(e,t){return Object(H.a)(Object(H.a)({},t),{},{userRestoreEmail:e.email})}function Yn(e,t){return Object(H.a)(Object(H.a)({},t),{},{userResetCode:e.code,userResetPassword:e.password})}function Zn(e,t){return Object(H.a)(Object(H.a)({},t),{},{isRegisterRequest:!1,isRegisterSuccess:!0,isRegisterFailed:!1,isAuthorized:!0,userEmail:e.data.user.email,userName:e.data.user.name,userPassword:e.password})}function Vn(e,t){return Object(H.a)(Object(H.a)({},t),{},{isLoginRequest:!1,isLoginSuccess:!0,isLoginFailed:!1,isAuthorized:!0,userEmail:e.data.user.email,userName:e.data.user.name,userPassword:e.password})}function Jn(e,t){return Object(H.a)(Object(H.a)({},t),{},{loginPageEmail:e.data.email,loginPagePassword:e.data.password})}function $n(e,t){return Object(H.a)(Object(H.a)({},t),{},{isProfileSuccess:!0,isProfileRequest:!1,isProfileFail:!1,profileEmail:e.data.email,profilePassword:e.data.password,profileName:e.data.name})}function er(e,t){return Object(H.a)(Object(H.a)({},t),{},{profileEmail:e.data.email,profilePassword:e.data.password,profileName:e.data.name})}function tr(e,t){var n;return Object(H.a)(Object(H.a)({},t),{},{profileEmail:t.userEmail,profilePassword:null!==(n=t.userPassword)&&void 0!==n?n:"",profileName:t.userName})}var nr={isIngredientsRequest:!1,isIngredientsFailed:!1,isIngredientsLoaded:!1,ingredients:[]},rr=function(){function e(){Object(X.a)(this,e)}return Object(Y.a)(e,null,[{key:"save",value:function(t){e.ingredients=t}},{key:"getIngredients",value:function(){return e.ingredients}}]),e}();function ar(e,t){var n=t.ingredients.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{amount:0})}));return rr.save(n),Object(H.a)(Object(H.a)({},e),{},{ingredients:n,isIngredientsLoaded:!0,isIngredientsRequest:!1})}rr.ingredients=[];var cr=n(120),sr={sum:0,ingredientAmountMap:{},selectedBun:void 0,selectedParts:[],orderFeed:[],orderTotal:0,orderToday:0,isOrderRequest:!1,isOrderFailed:!1,isOrderSuccess:!1,showedOrders:[]};function ir(e,t){var n,r=e.ingredient,a="bun"===r.type,c=function(e){return Object(H.a)(Object(H.a)({},e),{},{selectedId:Object(cr.a)()})}({ingredientId:(n=r)._id,price:n.price,text:n.name,thumbnail:n.image,selectedId:n._id}),s=a?c:t.selectedBun,i=a?t.selectedParts:[].concat(Object(sn.a)(t.selectedParts),[c]),o=i.reduce((function(e,t){return e+t.price}),0);s&&(o+=2*s.price);var u=ur(i,s);return Object(H.a)(Object(H.a)({},t),{},{ingredientAmountMap:u,selectedBun:s,selectedParts:i,sum:o})}function or(e,t){var n=e.payload.selectedId,r=Object(sn.a)(t.selectedParts.filter((function(e){return e.selectedId!==n}))),a=t.selectedBun,c=(void 0===a?0:2*a.price)+r.reduce((function(e,t){return e+t.price}),0),s=ur(r,a);return Object(H.a)(Object(H.a)({},t),{},{selectedParts:r,ingredientAmountMap:s,sum:c})}function ur(e,t){var n={};if(t){var r=t.ingredientId;n[r]=2}return e.forEach((function(e){var t=e.ingredientId;void 0===n[t]&&(n[t]=0),n[t]++})),n}function dr(e,t){var n=e.selectedId1,r=e.selectedId2,a=t.selectedParts,c=a.slice(),s=a.findIndex((function(e){return e.selectedId===n})),i=a.findIndex((function(e){return e.selectedId===r}));return s>-1&&i>-1?(c[i]=a[s],c[s]=a[i]):console.warn("cannot find ".concat(n,", ").concat(r," in "),a),Object(H.a)(Object(H.a)({},t),{},{selectedParts:c})}function lr(e){return Object(H.a)(Object(H.a)({},e),{},{ingredientAmountMap:{},selectedParts:[],selectedBun:void 0})}function pr(e,t){ie("WS_ORDER_GET_MESSAGE message",e);var n=e.message,r=n.success,a=n.orders,c=n.total,s=n.totalToday;if(r){var i=rr.getIngredients(),o=a.map((function(e){return Se(e,i)})),u=o.filter((function(e){return e.status===Tn.CREATED}))[0];ie("showCreatedOrder ",u);var d=u?lr(t):t;return Object(H.a)(Object(H.a)({},d),{},{orderFeed:o,orderToday:s,orderTotal:c,showCreatedOrder:u})}return Object(H.a)({},t)}var Or,jr,_r=Object(Hn.b)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.TAB_SELECT:return Object(H.a)(Object(H.a)({},e),{},{currentTabIndex:t.index});case ue.REGISTRATION_PAGE_CHANGE:return Kn(t,e);case ue.REGISTRATION_USER_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isRegisterRequest:!0,isRegisterSuccess:!1,isRegisterFailed:!1});case ue.REGISTRATION_USER_SUCCESS:return Zn(t,e);case ue.REGISTRATION_USER_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isRegisterRequest:!1,isRegisterSuccess:!1,isRegisterFailed:!0});case ue.LOGIN_PAGE_CHANGE:return Jn(t,e);case ue.LOGIN_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isLoginRequest:!0,isLoginSuccess:!1,isLoginFailed:!1});case ue.LOGIN_SUCCESS:return Vn(t,e);case ue.LOGIN_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isLoginRequest:!1,isLoginSuccess:!1,isLoginFailed:!0,isAuthorized:!1});case ue.LOGOUT_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isLogoutRequest:!0,isLogoutSuccess:!1,isLogoutFailed:!1});case ue.LOGOUT_SUCCESS:return Object(H.a)(Object(H.a)({},e),{},{isLogoutRequest:!1,isLogoutSuccess:!0,isLogoutFailed:!1,isAuthorized:!1});case ue.LOGOUT_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isLogoutRequest:!1,isLogoutSuccess:!1,isLogoutFailed:!0});case ue.RESTORE_PAGE_CHANGE:return Xn(t,e);case ue.RESTORE_PASS_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isRestoreRequest:!0});case ue.RESTORE_PASS_SUCCESS:return Object(H.a)(Object(H.a)({},e),{},{isRestoreRequest:!1,isRestoreSuccess:!0,isRestoreFailed:!1});case ue.RESTORE_PASS_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isRestoreRequest:!1,isRestoreSuccess:!1,isRestoreFailed:!0});case ue.RESET_PAGE_CHANGE:return Yn(t,e);case ue.RESET_PASS_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isResetRequest:!0});case ue.RESET_PASS_SUCCESS:return Object(H.a)(Object(H.a)({},e),{},{isResetRequest:!1,isResetFailed:!1,isResetSuccess:!0,isRestoreSuccess:!1});case ue.RESET_PASS_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isResetRequest:!1,isResetFailed:!0,isResetSuccess:!1,isRestoreSuccess:!1});case ue.TOKEN_REFRESH_REQUEST:case ue.TOKEN_REFRESH_SUCCESS:case ue.TOKEN_REFRESH_FAIL:return Object(H.a)({},e);case ue.PROFILE_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isProfileRequest:!0,isProfileSuccess:!1,isProfileFail:!1});case ue.PROFILE_SUCCESS:return $n(t,e);case ue.PROFILE_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isProfileRequest:!1,isProfileSuccess:!1,isProfileFail:!0});case ue.PROFILE_PAGE_CHANGE:return er(t,e);case ue.PROFILE_PAGE_RESET:return tr(t,e);case ue.PROFILE_UPDATE_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isProfileUpdateRequest:!0,isProfileUpdateSuccess:!1,isProfileUpdateFail:!1});case ue.PROFILE_UPDATE_SUCCESS:return Object(H.a)(Object(H.a)({},e),{},{isProfileUpdateRequest:!1,isProfileUpdateSuccess:!0,isProfileUpdateFail:!1,userName:t.data.name,userPassword:"",userEmail:t.data.email});case ue.PROFILE_UPDATE_FAIL:return Object(H.a)(Object(H.a)({},e),{},{isProfileUpdateRequest:!1,isProfileUpdateSuccess:!1,isProfileUpdateFail:!0});case ue.SAVE_AFTER_LOGGING_URL:return Object(H.a)(Object(H.a)({},e),{},{urlAfterLogging:t.url});case ue.SET_MODAL_URL:return Object(H.a)(Object(H.a)({},e),{},{isModalUrl:t.isModal});case ue.AUTH_CHECK_START:return Object(H.a)(Object(H.a)({},e),{},{isAuthorizationChecking:!0});case ue.AUTH_CHECK_END:return Object(H.a)(Object(H.a)({},e),{},{isAuthorizationChecking:!1,isAuthorized:t.data.isAuthorized});default:return console.warn("unknown action",t),Object(H.a)({},e)}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.DATA_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isIngredientsRequest:!0});case le.DATA_FAILED:return Object(H.a)(Object(H.a)({},e),{},{isIngredientsRequest:!1,isIngredientsLoaded:!1,isIngredientsFailed:!0});case le.DATA_LOADED:return ar(e,t);default:return ie("ingredientsReducer unknown action",t),Object(H.a)({},e)}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.ORDER_RESET:return Object(H.a)(Object(H.a)({},e),{},{isOrderRequest:!1,isOrderSuccess:!1,isOrderFailed:!1});case ve.ORDER_REQUEST:return Object(H.a)(Object(H.a)({},e),{},{isOrderRequest:!0,isOrderSuccess:!1,isOrderFailed:!1,orderMessage:"\u0418\u0434\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443...",isBadOrderMessage:!1});case ve.ORDER_SUCCESS:return ie("ORDER_SUCCESS ",t),Object(H.a)(Object(H.a)({},lr(e)),{},{isOrderRequest:!1,isOrderSuccess:!0,isOrderFailed:!1,showCreatedOrder:t.payload,orderMessage:"\u0411\u0443\u0440\u0433\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043d",isBadOrderMessage:!1});case ve.ORDER_FAILED:return Object(H.a)(Object(H.a)({},e),{},{isOrderRequest:!1,isOrderFailed:!0,isOrderSuccess:!1,orderMessage:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437...",isBadOrderMessage:!0});case ve.ORDER_MESSAGE_RESET:return Object(H.a)(Object(H.a)({},e),{},{orderMessage:void 0,isBadOrderMessage:!1});case ve.INGREDIENT_ADD_TO_BASKET:return ir(t,e);case ve.INGREDIENT_REMOVE_FROM_BASKET:return or(t,e);case ve.BASKET_ITEM_SWAP:return dr(t,e);case ve.ORDERS_FEED_UPDATE:return pr(t,e);case ve.ORDERED_POPUP_SHOW:return Object(H.a)(Object(H.a)({},e),{},{showCreatedOrder:void 0,showedOrders:[].concat(Object(sn.a)(e.showedOrders),[t.order])});default:return ie("ordersFeedReducer unknown action",t),Object(H.a)({},e)}}}),fr={wsInit:ve.WS_ORDER_CONNECTION_START,wsClose:ve.WS_ORDER_CONNECTION_CLOSE,onOpen:ve.WS_ORDER_CONNECTION_SUCCESS,onError:ve.WS_ORDER_CONNECTION_ERROR,onMessage:ve.ORDERS_FEED_UPDATE,wsSendMessage:ve.WS_ORDER_SEND_MESSAGE,onClose:ve.WS_ORDER_CONNECTION_CLOSED},br=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Hn.c,mr=Object(Hn.d)(_r,br(Object(Hn.a)(Wn.a,(Or="wss://norma.nomoreparties.space/orders/all",jr=fr,function(e){var t,n=jr.wsInit,r=jr.wsClose,a=jr.wsSendMessage,c=jr.onMessage,s=jr.onClose,i=jr.onError,o=jr.onOpen;return function(u){return function(d){var l=e.dispatch,p=d.type;if(p===n){var O="".concat(Or,"?token=").concat(d.token);t=new WebSocket(O),window.onbeforeunload=function(){t.onclose=function(){},t.close()}}if(t&&(p===r&&(ie(" socket.close by client",d),t.close()),t.onopen=function(e){ie(" socket.onopen",e),l({type:o,payload:e})},t.onerror=function(e){ie(" socket.onerror",e),l({type:i,error:e})},t.onmessage=function(e){ie(" socket.onmessage",e);var t=e.data,n=JSON.parse(t);ie("socket message",n),l({type:c,message:n})},t.onclose=function(e){l({type:s,event:e})},p===a)){ie(" socket.wsSendMessage",d);var j=d.message;t.send(JSON.stringify(j))}u(d)}}}))));u.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(i.a,{store:mr,children:Object(m.jsx)(_.a,{children:Object(m.jsx)(qn,{})})})}),document.getElementById("root")),d()},22:function(e,t,n){e.exports={content:"profile_content__3vLfG",col_left:"profile_col_left__21FJd",col_right:"profile_col_right__2JaKD",links:"profile_links__3QviD",link:"profile_link__1-1p8",link_profile:"profile_link_profile__21jV8",active:"profile_active__187xt"}},25:function(e,t,n){e.exports={main:"order-feed-details-part-list_main__2DAHo",scrollable:"order-feed-details-part-list_scrollable__1Wj0_",row:"order-feed-details-part-list_row__iHOgY",rowPart:"order-feed-details-part-list_rowPart__2P0zr"}},30:function(e,t,n){e.exports={header:"app-header_header__1iHLW",col:"app-header_col__3xeLd",link:"app-header_link__2y8TU",left:"app-header_left__3QKON app-header_col__3xeLd",center:"app-header_center__3YkdO app-header_col__3xeLd",right:"app-header_right__A7Lg9 app-header_col__3xeLd"}},31:function(e,t,n){e.exports={main:"profile-editor_main__3AWf1",buttons:"profile-editor_buttons__2BEO1",hidden:"profile-editor_hidden__2XaGR"}},32:function(e,t,n){e.exports={centerWrap:"order-feed-item-part_centerWrap__27Pb2",centered:"order-feed-item-part_centered__1uM23",circle:"order-feed-item-part_circle__3QU9T order-feed-item-part_centerWrap__27Pb2",overlap:"order-feed-item-part_overlap__1Eb3L",img:"order-feed-item-part_img__UCKB0 order-feed-item-part_centered__1uM23",text:"order-feed-item-part_text__3aFNl order-feed-item-part_centered__1uM23"}},40:function(e,t,n){e.exports={wrap:"forgot-password_wrap__3WyMA",content:"forgot-password_content__dCYfM",about:"forgot-password_about__3Cb0i"}},41:function(e,t,n){e.exports={wrap:"login_wrap__2-2Es",content:"login_content__28Q5n",about:"login_about__fGcG-"}},42:function(e,t,n){e.exports={wrap:"register_wrap__2Vx-t",content:"register_content__3FBxM",about:"register_about__3AoHB"}},43:function(e,t,n){e.exports={wrap:"reset-password_wrap__3mD0h",content:"reset-password_content__2O_HY",about:"reset-password_about__2iIaW"}},44:function(e,t,n){e.exports={main:"order-feed-page_main__2rjRp",columns:"order-feed-page_columns__3v7WP",colLeft:"order-feed-page_colLeft__Nx_Ep",colRight:"order-feed-page_colRight__23zch"}},45:function(e,t,n){e.exports={main:"order-feed-details_main__9V1X0",content:"order-feed-details_content__3AdD_",center:"order-feed-details_center__1nL7x",row:"order-feed-details_row__5WpuF"}},55:function(e,t,n){e.exports={window:"modal_window__3xxdZ",head:"modal_head__195Dg"}},56:function(e,t,n){e.exports={content:"ingredient-details_content__1h36_",image_wrapper:"ingredient-details_image_wrapper__leucM",nutrition:"ingredient-details_nutrition__15aLk"}},57:function(e,t,n){e.exports={content:"main_content__2NOVK",col:"main_col__1DWTk",col_left:"main_col_left__1Ng_2 main_col__1DWTk",col_right:"main_col_right__MeRw4 main_col__1DWTk"}},58:function(e,t,n){e.exports={item:"burger-ingredients-item_item__2unsw",image:"burger-ingredients-item_image__GfIe0",name:"burger-ingredients-item_name__UxOAX"}},59:function(e,t,n){e.exports={main:"money-counter_main__1m0GZ",icon:"money-counter_icon__2Dowa",big_icon:"money-counter_big_icon__1ocKv"}},60:function(e,t,n){e.exports={main:"burger-constructor_main__O9C0W",list:"burger-constructor_list__2lXaw",sum:"burger-constructor_sum__487I2"}},61:function(e,t,n){e.exports={wrap:"loading_wrap__t_n18",content:"loading_content__3UCR8",alert:"loading_alert__2-PpT"}},62:function(e,t,n){e.exports={main:"order-feed-item_main__16JP2",rowName:"order-feed-item_rowName__1pGWR",row:"order-feed-item_row__Jow4J"}},63:function(e,t,n){e.exports={main:"order-feed-info_main__30PdP",columns:"order-feed-info_columns__333R8",normal:"order-feed-info_normal__2qsC5",success:"order-feed-info_success__1_Yh4"}},79:function(e,t,n){e.exports={item:"app-header-item_item__O-kHK",active:"app-header-item_active__2-Mjm"}},81:function(e,t,n){e.exports={content:"order-details_content__ABFXc",done:"order-details_done__2B7O6"}},82:function(e,t,n){e.exports={main:"burger-ingredients_main__1liZB",list:"burger-ingredients_list__HZyi9"}},83:function(e,t,n){e.exports={section:"burger-ingredients-section_section__1ZvEw",list:"burger-ingredients-section_list__1ctQA"}},86:function(e,t,n){e.exports={main:"order-feed-item-parts_main__2VlVB",row:"order-feed-item-parts_row__1AX74"}}},[[207,1,2]]]);
//# sourceMappingURL=main.72d006c5.chunk.js.map